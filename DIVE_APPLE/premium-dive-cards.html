<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIVE Apple Watch Cards</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=SF+Pro:wght@300;400;500;600;700&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'SF Pro', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
            background: #000000;
            color: white;
            padding: 30px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 18px;
            min-height: 100vh;
            justify-content: center;
            align-content: center;
        }

        .watch-card {
            width: 185px;
            height: 210px;
            border-radius: 22px;
            padding: 16px;
            position: relative;
            background: rgba(28, 28, 30, 0.95);
            border: 0.5px solid rgba(255, 255, 255, 0.12);
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            overflow: hidden;
        }

        .watch-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
        }

        .watch-card:hover {
            background: rgba(44, 44, 46, 0.95);
            transform: translateY(-3px) scale(1.02);
            border-color: rgba(255, 255, 255, 0.18);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .card-title {
            font-size: 10px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .card-icon {
            font-size: 14px;
            opacity: 0.8;
        }

        .primary-value {
            font-size: 26px;
            font-weight: 300;
            margin-bottom: 2px;
            color: #ffffff;
            line-height: 1;
        }

        .secondary-value {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 12px;
            font-weight: 400;
        }

        /* Location Card */
        .coordinates {
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 9px;
            color: rgba(255, 255, 255, 0.8);
            background: rgba(255, 255, 255, 0.06);
            padding: 3px 6px;
            border-radius: 4px;
            margin-bottom: 3px;
            border: 0.5px solid rgba(255, 255, 255, 0.1);
        }

        .gps-status {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 9px;
            color: #30d158;
            margin-bottom: 8px;
        }

        .pulse-dot {
            width: 4px;
            height: 4px;
            background: #30d158;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        /* Tide Card - Show all 4 times */
        .tide-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .current-tide {
            font-size: 18px;
            font-weight: 500;
            color: #007AFF;
            margin-bottom: 4px;
        }

        .tide-countdown {
            font-size: 10px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 10px;
        }

        .tide-times {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 4px;
            margin-top: 6px;
        }

        .tide-slot {
            text-align: center;
            padding: 4px;
            background: rgba(255, 255, 255, 0.04);
            border-radius: 6px;
            border: 0.5px solid rgba(255, 255, 255, 0.08);
        }

        .tide-slot.high {
            border-color: rgba(0, 122, 255, 0.3);
        }

        .tide-slot.low {
            border-color: rgba(255, 69, 58, 0.3);
        }

        .tide-time {
            font-size: 11px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 1px;
        }

        .tide-height {
            font-size: 8px;
            color: rgba(255, 255, 255, 0.6);
        }

        .tide-type {
            font-size: 7px;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        /* Weather Card - Complete marine conditions */
        .weather-main {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .temp-large {
            font-size: 24px;
            font-weight: 300;
        }

        .weather-icon-large {
            font-size: 20px;
        }

        .marine-conditions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4px;
            margin-bottom: 6px;
        }

        .condition-item {
            display: flex;
            align-items: center;
            gap: 3px;
            font-size: 9px;
            color: rgba(255, 255, 255, 0.8);
        }

        .alert-banner {
            background: rgba(255, 149, 0, 0.15);
            padding: 4px 6px;
            border-radius: 4px;
            font-size: 8px;
            color: #ff9500;
            text-align: center;
            margin-top: 6px;
            border: 0.5px solid rgba(255, 149, 0, 0.3);
        }

        /* Fishing Points Map */
        .fishing-map {
            position: relative;
            width: 100%;
            height: 110px;
            background: linear-gradient(180deg, rgba(0, 100, 200, 0.1) 0%, rgba(0, 50, 100, 0.2) 100%);
            border-radius: 8px;
            margin: 6px 0;
            border: 0.5px solid rgba(255, 255, 255, 0.08);
            overflow: hidden;
        }

        .coastline {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 35px;
            background: rgba(139, 69, 19, 0.3);
            clip-path: polygon(0 100%, 100% 100%, 95% 80%, 85% 70%, 75% 75%, 60% 60%, 45% 65%, 30% 50%, 15% 60%, 0 70%);
        }

        .fishing-point {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #ff9500;
            border-radius: 50%;
            border: 1px solid rgba(255, 149, 0, 0.5);
            animation: fishingPulse 3s infinite;
        }

        .fishing-point::after {
            content: '';
            position: absolute;
            width: 4px;
            height: 4px;
            background: #fff;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .point-1 { top: 25px; left: 30px; animation-delay: 0s; }
        .point-2 { top: 50px; left: 70px; animation-delay: 1s; }
        .point-3 { top: 20px; left: 110px; animation-delay: 2s; }
        .point-4 { top: 60px; left: 140px; animation-delay: 0.5s; }

        @keyframes fishingPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.3); opacity: 0.7; }
        }

        .map-legend {
            font-size: 8px;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 4px;
            text-align: center;
        }

        /* Health Monitor - Emergency features */
        .health-main {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .heart-icon {
            font-size: 16px;
            color: #ff3b30;
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.1); }
        }

        .health-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4px;
            margin-top: 6px;
        }

        .health-item {
            background: rgba(255, 255, 255, 0.04);
            padding: 4px 6px;
            border-radius: 4px;
            text-align: center;
            border: 0.5px solid rgba(255, 255, 255, 0.06);
        }

        .health-label {
            font-size: 7px;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
        }

        .health-value {
            font-size: 10px;
            color: #ffffff;
            font-weight: 500;
        }

        .emergency-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 8px;
            color: #30d158;
            margin-top: 4px;
        }

        /* Emergency Card */
        .emergency-card {
            border: 1px solid rgba(255, 59, 48, 0.4);
            background: rgba(255, 59, 48, 0.05);
        }

        .emergency-status {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 10px;
        }

        .status-light {
            width: 8px;
            height: 8px;
            background: #30d158;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .emergency-contacts {
            margin-bottom: 8px;
        }

        .contact-row {
            display: flex;
            justify-content: space-between;
            font-size: 9px;
            margin-bottom: 3px;
        }

        .contact-label {
            color: rgba(255, 255, 255, 0.6);
        }

        .contact-number {
            color: #ffffff;
            font-weight: 500;
        }

        .sos-button {
            background: linear-gradient(135deg, #ff3b30 0%, #d70015 100%);
            border: none;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 9px;
            cursor: pointer;
            width: 100%;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(255, 59, 48, 0.3);
        }

        .sos-button:hover {
            background: linear-gradient(135deg, #d70015 0%, #b91c1c 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(255, 59, 48, 0.4);
        }

        .sos-button:active {
            transform: scale(0.95);
        }

        /* Fine Dust Card - Air Quality */
        .aqi-main {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .aqi-value {
            font-size: 24px;
            font-weight: 300;
            color: #30d158;
        }

        .aqi-status {
            font-size: 10px;
            color: #30d158;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .dust-levels {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4px;
            margin-top: 6px;
        }

        .dust-item {
            text-align: center;
            padding: 4px;
            background: rgba(255, 255, 255, 0.04);
            border-radius: 4px;
            border: 0.5px solid rgba(255, 255, 255, 0.06);
        }

        .dust-type {
            font-size: 7px;
            color: rgba(255, 255, 255, 0.5);
        }

        .dust-value {
            font-size: 10px;
            color: #ffffff;
            font-weight: 500;
        }

        /* Fishing Points Interactive */
        .fishing-points-card {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .fishing-points-card:active {
            transform: translateY(-1px) scale(0.98);
        }

        .fishing-map-view, .fishing-points-list {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .fishing-points-list.show {
            display: block !important;
            animation: slideIn 0.3s ease forwards;
        }

        .fishing-map-view.hide {
            opacity: 0;
            transform: translateY(-10px);
        }

        /* Mini Point Cards - Scrollable List */
        .points-scroll-container {
            max-height: 140px;
            overflow-y: auto;
            overflow-x: hidden;
            padding-right: 2px;
        }

        .points-scroll-container::-webkit-scrollbar {
            width: 2px;
        }

        .points-scroll-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 1px;
        }

        .points-scroll-container::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 1px;
        }

        .mini-point-card {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px;
            margin-bottom: 6px;
            background: rgba(255, 255, 255, 0.04);
            border-radius: 8px;
            border: 0.5px solid rgba(255, 255, 255, 0.08);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .mini-point-card:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateX(2px);
        }

        .mini-point-card:active {
            transform: scale(0.95);
        }

        .mini-point-card:last-child {
            margin-bottom: 0;
        }

        .mini-image-container {
            position: relative;
            width: 40px;
            height: 30px;
            border-radius: 4px;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.05);
            flex-shrink: 0;
        }

        .mini-point-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .mini-distance {
            position: absolute;
            top: 1px;
            right: 1px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 1px 3px;
            border-radius: 2px;
            font-size: 6px;
            font-weight: 500;
        }

        .mini-point-info {
            flex: 1;
            min-width: 0;
        }

        .mini-point-name {
            font-size: 10px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 2px;
            line-height: 1.2;
        }

        .mini-point-detail {
            font-size: 8px;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.2;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Detailed Point Info View */
        .fishing-point-detail {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .fishing-point-detail.show {
            display: block !important;
            animation: slideIn 0.3s ease forwards;
        }

        .detail-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
        }

        .back-button {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .back-button:active {
            transform: scale(0.9);
        }

        .detail-image-large {
            width: 100%;
            height: 60px;
            border-radius: 8px;
            margin-bottom: 8px;
            object-fit: cover;
            background: rgba(255, 255, 255, 0.05);
        }

        .detail-point-name {
            font-size: 14px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 4px;
        }

        .detail-distance-badge {
            display: inline-block;
            background: rgba(0, 122, 255, 0.2);
            color: #007AFF;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 8px;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .detail-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 6px;
            margin-bottom: 8px;
        }

        .detail-info-item {
            background: rgba(255, 255, 255, 0.04);
            padding: 6px;
            border-radius: 6px;
            border: 0.5px solid rgba(255, 255, 255, 0.08);
        }

        .detail-info-label {
            font-size: 7px;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.3px;
            margin-bottom: 2px;
        }

        .detail-info-value {
            font-size: 10px;
            color: #ffffff;
            font-weight: 500;
        }

        .detail-species-section {
            background: rgba(255, 255, 255, 0.04);
            padding: 8px;
            border-radius: 6px;
            border: 0.5px solid rgba(255, 255, 255, 0.08);
            margin-bottom: 8px;
        }

        .detail-species-title {
            font-size: 8px;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.3px;
            margin-bottom: 4px;
        }

        .detail-species-list {
            font-size: 9px;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.3;
        }

        .detail-coordinates {
            background: rgba(255, 255, 255, 0.04);
            padding: 4px 6px;
            border-radius: 4px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 8px;
            color: rgba(255, 255, 255, 0.7);
            text-align: center;
        }

        /* New Interactive Elements */
        .mini-button {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 0.5px solid rgba(255, 255, 255, 0.2);
        }

        .mini-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
        }

        .mini-button:active {
            transform: scale(0.95);
        }

        .track-button.recording {
            background: rgba(255, 59, 48, 0.2);
            color: #ff3b30;
            border-color: rgba(255, 59, 48, 0.4);
        }

        .dive-timer-btn.active {
            background: rgba(0, 122, 255, 0.2);
            color: #007AFF;
            border-color: rgba(0, 122, 255, 0.4);
        }

        .dive-timer.active {
            color: #007AFF;
            font-weight: 600;
        }

        /* Card interaction states */
        .watch-card.interactive {
            cursor: pointer;
        }

        .watch-card.interactive:hover {
            transform: translateY(-2px) scale(1.01);
        }
    </style>
</head>
<body>
    <!-- Location Card with Track Recording -->
    <div class="watch-card location-card" onclick="toggleLocationFeature()">
        <div class="card-header">
            <div class="card-title">Location</div>
            <div class="card-icon">📍</div>
        </div>
        
        <div class="location-main-view">
            <div class="gps-status">
                <div class="pulse-dot"></div>
                <span>GPS Active • ±3m</span>
            </div>
            
            <div class="coordinates">35.179600°N</div>
            <div class="coordinates">129.075600°E</div>
            
            <div style="font-size: 9px; color: rgba(255, 255, 255, 0.5); margin-top: 8px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 2px;">
                    <span>Heading</span>
                    <span style="color: #fff;">045° NE</span>
                </div>
                <div style="display: flex; justify-content: space-between;">
                    <span>Shore Dist</span>
                    <span style="color: #fff;">850m</span>
                </div>
            </div>
            
            <div class="track-controls" style="margin-top: 8px; text-align: center;">
                <button class="mini-button track-button" onclick="event.stopPropagation(); toggleTracking()">
                    <span class="track-icon">⏺️</span> Start Track
                </button>
            </div>
        </div>
    </div>

    <!-- Tide Card with Notifications -->
    <div class="watch-card tide-card" onclick="toggleTideAlerts()">
        <div class="card-header">
            <div class="card-title">Tides</div>
            <div class="card-icon">🌊</div>
        </div>
        
        <div class="current-tide">High Tide</div>
        <div class="tide-countdown">Peak in 2h 34m</div>
        
        <div class="tide-times">
            <div class="tide-slot low">
                <div class="tide-type">Low</div>
                <div class="tide-time">06:23</div>
                <div class="tide-height">0.3m</div>
            </div>
            <div class="tide-slot high">
                <div class="tide-type">High</div>
                <div class="tide-time">12:47</div>
                <div class="tide-height">2.1m</div>
            </div>
            <div class="tide-slot low">
                <div class="tide-type">Low</div>
                <div class="tide-time">18:15</div>
                <div class="tide-height">0.4m</div>
            </div>
            <div class="tide-slot high">
                <div class="tide-type">High</div>
                <div class="tide-time">00:32</div>
                <div class="tide-height">1.9m</div>
            </div>
        </div>
        
        <div class="tide-alert-toggle" style="margin-top: 6px; text-align: center;">
            <div class="alert-status" style="font-size: 8px; color: #30d158;">
                🔔 Tide alerts active
            </div>
        </div>
    </div>

    <!-- Weather Card with Forecast -->
    <div class="watch-card weather-card" onclick="toggleWeatherForecast()">
        <div class="card-header">
            <div class="card-title">Weather</div>
            <div class="card-icon">⛅</div>
        </div>
        
        <div class="weather-current">
            <div class="weather-main">
                <div>
                    <div class="temp-large">24°C</div>
                    <div style="font-size: 9px; color: rgba(255, 255, 255, 0.6);">Sea: 22°C</div>
                </div>
                <div class="weather-icon-large">⛅</div>
            </div>
            
            <div class="marine-conditions">
                <div class="condition-item">
                    <span>💨</span>
                    <span>NE 12km/h</span>
                </div>
                <div class="condition-item">
                    <span>🌊</span>
                    <span>Wave 1.2m</span>
                </div>
                <div class="condition-item">
                    <span>💧</span>
                    <span>68%</span>
                </div>
                <div class="condition-item">
                    <span>👁️</span>
                    <span>8km</span>
                </div>
            </div>
            
            <div class="forecast-toggle" style="margin-top: 6px; text-align: center;">
                <div style="font-size: 8px; color: rgba(255, 255, 255, 0.5);">
                    Tap for 3-day forecast
                </div>
            </div>
        </div>
    </div>

    <!-- Fishing Points Map -->
    <div class="watch-card fishing-points-card" onclick="toggleFishingPoints()">
        <div class="card-header">
            <div class="card-title">Fishing Points</div>
            <div class="card-icon">🎣</div>
        </div>
        
        <!-- Map View (Default) -->
        <div class="fishing-map-view">
            <div style="font-size: 9px; color: rgba(255, 255, 255, 0.6); margin-bottom: 6px;">4 points nearby • Tap for details</div>
            
            <div class="fishing-map">
                <div class="coastline"></div>
                <div class="fishing-point point-1" title="Jagalchi Pier"></div>
                <div class="fishing-point point-2" title="South Breakwater"></div>
                <div class="fishing-point point-3" title="Deep Channel"></div>
                <div class="fishing-point point-4" title="Rocky Point"></div>
            </div>
            
            <div class="map-legend">🟠 Active Points • Best: High Tide</div>
            
            <div style="font-size: 8px; color: rgba(255, 255, 255, 0.5); text-align: center; margin-top: 6px;">
                Nearest: Jagalchi Pier (850m)
            </div>
        </div>
        
        <!-- Points List View (On Tap) -->
        <div class="fishing-points-list" style="display: none;">
            <div style="font-size: 9px; color: rgba(255, 255, 255, 0.6); margin-bottom: 8px;">Tap point for details • Tap again for map</div>
            
            <div class="points-scroll-container">
                <!-- Point 1: Jagalchi Pier -->
                <div class="mini-point-card" onclick="event.stopPropagation(); selectPoint(0)">
                    <div class="mini-image-container">
                        <img src="https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=50&h=40&fit=crop&crop=center" 
                             alt="Jagalchi Pier" class="mini-point-image">
                        <div class="mini-distance">850m</div>
                    </div>
                    <div class="mini-point-info">
                        <div class="mini-point-name">Jagalchi Pier</div>
                        <div class="mini-point-detail">🌊 12-18m • 🐟 Sea Bass, Mackerel</div>
                    </div>
                </div>
                
                <!-- Point 2: South Breakwater -->
                <div class="mini-point-card" onclick="event.stopPropagation(); selectPoint(1)">
                    <div class="mini-image-container">
                        <img src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=50&h=40&fit=crop&crop=center" 
                             alt="South Breakwater" class="mini-point-image">
                        <div class="mini-distance">1.2km</div>
                    </div>
                    <div class="mini-point-info">
                        <div class="mini-point-name">South Breakwater</div>
                        <div class="mini-point-detail">🌊 8-15m • 🐟 Flounder, Cod</div>
                    </div>
                </div>
                
                <!-- Point 3: Deep Channel -->
                <div class="mini-point-card" onclick="event.stopPropagation(); selectPoint(2)">
                    <div class="mini-image-container">
                        <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=50&h=40&fit=crop&crop=center" 
                             alt="Deep Channel" class="mini-point-image">
                        <div class="mini-distance">2.1km</div>
                    </div>
                    <div class="mini-point-info">
                        <div class="mini-point-name">Deep Channel</div>
                        <div class="mini-point-detail">🌊 20-35m • 🐟 Tuna, Yellowtail</div>
                    </div>
                </div>
                
                <!-- Point 4: Rocky Point -->
                <div class="mini-point-card" onclick="event.stopPropagation(); selectPoint(3)">
                    <div class="mini-image-container">
                        <img src="https://images.unsplash.com/photo-1439066615861-d1af74d74000?w=50&h=40&fit=crop&crop=center" 
                             alt="Rocky Point" class="mini-point-image">
                        <div class="mini-distance">1.8km</div>
                    </div>
                    <div class="mini-point-info">
                        <div class="mini-point-name">Rocky Point</div>
                        <div class="mini-point-detail">🌊 5-12m • 🐟 Rockfish, Snapper</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Detailed Point Info View (On Point Selection) -->
        <div class="fishing-point-detail" style="display: none;">
            <div class="detail-header">
                <button class="back-button" onclick="event.stopPropagation(); showPointsList()">‹</button>
                <div style="font-size: 9px; color: rgba(255, 255, 255, 0.6);">Fishing Point Details</div>
            </div>
            
            <div id="pointDetailContent">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Health Monitor with Timer -->
    <div class="watch-card health-card" onclick="toggleHealthTimer()">
        <div class="card-header">
            <div class="card-title">Health</div>
            <div class="card-icon">❤️</div>
        </div>
        
        <div class="health-main">
            <div>
                <div style="font-size: 22px; font-weight: 300;">72</div>
                <div style="font-size: 9px; color: rgba(255, 255, 255, 0.6);">BPM Resting</div>
            </div>
            <div class="heart-icon">❤️</div>
        </div>
        
        <div class="health-grid">
            <div class="health-item">
                <div class="health-label">SpO2</div>
                <div class="health-value">98%</div>
            </div>
            <div class="health-item">
                <div class="health-label">BP</div>
                <div class="health-value">120/80</div>
            </div>
            <div class="health-item">
                <div class="health-label">Stress</div>
                <div class="health-value">Low</div>
            </div>
            <div class="health-item">
                <div class="health-label">Dive Time</div>
                <div class="health-value dive-timer">00:00</div>
            </div>
        </div>
        
        <div class="dive-controls" style="margin-top: 6px; text-align: center;">
            <button class="mini-button dive-timer-btn" onclick="event.stopPropagation(); toggleDiveTimer()">
                <span>⏱️</span> Start Dive
            </button>
        </div>
    </div>

    <!-- Emergency Card with Contacts -->
    <div class="watch-card emergency-card" onclick="toggleEmergencyContacts()">
        <div class="card-header">
            <div class="card-title">Emergency</div>
            <div class="card-icon">🚨</div>
        </div>
        
        <div class="emergency-status">
            <div class="status-light"></div>
            <span style="font-size: 10px; color: rgba(255, 255, 255, 0.8);">All Systems Ready</span>
        </div>
        
        <div class="emergency-contacts">
            <div class="contact-row">
                <span class="contact-label">Coast Guard</span>
                <span class="contact-number">122</span>
            </div>
            <div class="contact-row">
                <span class="contact-label">Emergency</span>
                <span class="contact-number">119</span>
            </div>
            <div class="contact-row">
                <span class="contact-label">Nearest Port</span>
                <span class="contact-number">2.3km</span>
            </div>
        </div>
        
        <div class="emergency-controls" style="margin-top: 8px; text-align: center;">
            <button class="sos-button" onclick="event.stopPropagation(); activateEmergency()">
                🆘 Emergency SOS
            </button>
        </div>
        
        <div style="font-size: 8px; color: rgba(255, 255, 255, 0.5); margin-top: 4px; text-align: center;">
            Auto: HR <40 or >180 BPM • Triple press side button
        </div>
    </div>

    <script>
        let currentView = 'map'; // 'map', 'list', 'detail'
        
        // Fishing points data
        const fishingPointsData = [
            {
                name: 'Jagalchi Pier',
                distance: '850m',
                direction: 'NE',
                depth: '12-18m',
                bottomType: 'Sandy Rock',
                bestTime: 'High Tide',
                targetFish: 'Sea Bass, Mackerel, Red Snapper',
                coordinates: '35.0979°N, 129.0306°E',
                image: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=200&h=80&fit=crop&crop=center',
                seaside: 'y'
            },
            {
                name: 'South Breakwater',
                distance: '1.2km',
                direction: 'SE',
                depth: '8-15m',
                bottomType: 'Rocky Bottom',
                bestTime: 'Low Tide',
                targetFish: 'Flounder, Cod, Pollock',
                coordinates: '35.0875°N, 129.0425°E',
                image: 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=200&h=80&fit=crop&crop=center',
                seaside: 'n'
            },
            {
                name: 'Deep Channel',
                distance: '2.1km',
                direction: 'E',
                depth: '20-35m',
                bottomType: 'Deep Sand',
                bestTime: 'Any Time',
                targetFish: 'Tuna, Yellowtail, Amberjack',
                coordinates: '35.0823°N, 129.0687°E',
                image: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=80&fit=crop&crop=center',
                seaside: 'n'
            },
            {
                name: 'Rocky Point',
                distance: '1.8km',
                direction: 'SW',
                depth: '5-12m',
                bottomType: 'Rocky Reef',
                bestTime: 'Dawn/Dusk',
                targetFish: 'Rockfish, Snapper, Grouper',
                coordinates: '35.0756°N, 129.0198°E',
                image: 'https://images.unsplash.com/photo-1439066615861-d1af74d74000?w=200&h=80&fit=crop&crop=center',
                seaside: 'y'
            }
        ];

        function toggleFishingPoints() {
            const mapView = document.querySelector('.fishing-map-view');
            const listView = document.querySelector('.fishing-points-list');
            const detailView = document.querySelector('.fishing-point-detail');
            
            if (currentView === 'map') {
                // Show list view
                mapView.style.display = 'none';
                detailView.style.display = 'none';
                listView.style.display = 'block';
                listView.classList.add('show');
                currentView = 'list';
            } else {
                // Show map view
                listView.style.display = 'none';
                detailView.style.display = 'none';
                listView.classList.remove('show');
                mapView.style.display = 'block';
                currentView = 'map';
            }
        }

        function selectPoint(index) {
            const listView = document.querySelector('.fishing-points-list');
            const detailView = document.querySelector('.fishing-point-detail');
            const detailContent = document.getElementById('pointDetailContent');
            
            const point = fishingPointsData[index];
            
            // Populate detail content
            detailContent.innerHTML = `
                <img src="${point.image}" alt="${point.name}" class="detail-image-large">
                
                <div class="detail-point-name">${point.name}</div>
                <div class="detail-distance-badge">${point.distance} ${point.direction}</div>
                
                <div class="detail-info-grid">
                    <div class="detail-info-item">
                        <div class="detail-info-label">Depth Range</div>
                        <div class="detail-info-value">${point.depth}</div>
                    </div>
                    <div class="detail-info-item">
                        <div class="detail-info-label">Bottom Type</div>
                        <div class="detail-info-value">${point.bottomType}</div>
                    </div>
                    <div class="detail-info-item">
                        <div class="detail-info-label">Best Time</div>
                        <div class="detail-info-value">${point.bestTime}</div>
                    </div>
                    <div class="detail-info-item">
                        <div class="detail-info-label">Location</div>
                        <div class="detail-info-value">${point.seaside === 'y' ? 'Seaside' : 'Offshore'}</div>
                    </div>
                </div>
                
                <div class="detail-species-section">
                    <div class="detail-species-title">🐟 Target Species</div>
                    <div class="detail-species-list">${point.targetFish}</div>
                </div>
                
                <div class="detail-coordinates">${point.coordinates}</div>
            `;
            
            // Show detail view
            listView.style.display = 'none';
            listView.classList.remove('show');
            detailView.style.display = 'block';
            detailView.classList.add('show');
            currentView = 'detail';
        }

        function showPointsList() {
            const listView = document.querySelector('.fishing-points-list');
            const detailView = document.querySelector('.fishing-point-detail');
            
            // Show list view
            detailView.style.display = 'none';
            detailView.classList.remove('show');
            listView.style.display = 'block';
            listView.classList.add('show');
            currentView = 'list';
        }

        // Add touch feedback for the main card
        document.querySelector('.fishing-points-card').addEventListener('touchstart', function() {
            if (currentView === 'map') { // Only add feedback when in map view
                this.style.transform = 'translateY(-1px) scale(0.98)';
            }
        });

        document.querySelector('.fishing-points-card').addEventListener('touchend', function() {
            setTimeout(() => {
                this.style.transform = '';
            }, 150);
        });
    </script>
</body>
</html>